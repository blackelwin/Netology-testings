# DevOps-Netology

## Домашнее задание к занятию "Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения"

### Задача 1

Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

### Ответ:

* Полная (аппаратная) виртуализация подразумевает использование гостевыми ОС физических средств гипервизора через перехват вызовов с использованием двоичного преобразования так, будто бы гостевая ОС вовсе не виртуализирована, благодаря чему гостевая ОС не подозревает, что она виртуализирована. Как итог минус данного решения это увеличенное время задержки отправки/получения вызовов/инструкций на средства хостовой машины, но плюсом является широкая поддержка гостевых ОС.

* Паравиртуализация подразумевает изменение ядра гостевого ОС для адаптации работы поверх гипервизора. Тем самым гостевая ОС знает, что она виртуализирована. Преимуществом изменения ядра гостевого ОС является прямая связь с физическими средствами гипервизора, что увеличивает производительность. Минусом данного решения является ограниченная поддержка ОС с открытым исходным кодом, а так же невозможность работы с немодифицированной гостевой ОС; ее совместимость и переносимость минимальны с такими системами как MS Windows.

* При виртуализации на уровне операционной системы не существует отдельного слоя, как гипервизор. Хостовая ОС сама отвечает за распределение аппаратных ресурсов между ВМ, каждая ВМ для нее как отдельный исполняемый процесс.

### Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

* физические сервера,
* паравиртуализация,
* виртуализация уровня ОС.

Условия использования:

* Высоконагруженная база данных, чувствительная к отказу.
* Различные web-приложения.
* Windows системы для использования бухгалтерским отделом.
* Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ:

* Высоконагруженная база данных, чувствительная к отказу - физические сервера, так как требуется быстрая работа дисковой подсистемы.
* Различные web-приложения - виртуализация уровня ОС. Приложения можно запускать в изолированном пространстве, высокая скорость развертывания.
* Windows системы для использования бухгалтерским отделом - паравиртуализация, так как можно гибко распределять ресурсы между ВМ, либо разворачивать ВМ из шаблона. Изолированность гостевых ОС друг от друга.
* Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера, так как требуется прямой доступ к графическому оборудованию.

### Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

* 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
* Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
* Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
* Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ:

* Подойдет решение виртуализации от VMWare, так как поддерживается множество гостевых ОС, а так же реализуемы требования по балансировке нагрузки, репликации и созданию резервных копий.
* В качестве бесплатных opensource решений подойдут Proxmox+KVM, либо Xen.
* Бесплатным и максимально совместимым решением для Windows инфраструктуры будет выступать Microsoft Hyper-V Server. Ограничений в нем никаких нет (в отличие от бесплатной версии VMware), вы можете включить его в домен, управлять ею с помощью Windows Admin Center, бэкапить.
* Для тестирования программного продукта можно использовать связку Vagrant и Virtual Box. Позволяет быстро развернуть ВМ с необходимыми настройками.

### Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Ответ:

Гетерогенная среда виртаулизации - сложна в управлении, требует специалистов различного профиля и, следовательно, является дорогостоящей - это и есть её основной недостаток. Я считаю, что следует избегать создания и использования гетерогенной среды виртуализации.

При наличии выбора - лучше отказаться от создания гетерогенной среды виртуализации, постараться  понять необходимые задачи и выбрать гибридное решение, обеспечивающее реализацию текущих задач, упрощающее управление инфраструктурой и её масштабируемость.
